<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sdiff src\jdk.hotspot.agent\share\classes\sun\jvm\hotspot\asm\Disassembler.java</title>
    <link rel="stylesheet" href="..\..\..\..\..\..\..\..\style.css" />
  </head>
<body>
<center><a href="..\HotSpotAgent.java.sdiff.html" target="_top">&lt; prev</a> <a href="..\..\..\..\..\..\..\..\index.html" target="_top">index</a> <a href="..\debugger\windbg\WindbgDebuggerLocal.java.sdiff.html" target="_top">next &gt;</a></center>    <h2>src\jdk.hotspot.agent\share\classes\sun\jvm\hotspot\asm\Disassembler.java</h2>
     <a class="print" href="javascript:print()">Print this page</a>
<table>
<tr valign="top">
<td>
<hr />
<pre>
 54       Disassembler dis = new Disassembler(startPc, code);
 55       dis.decode(visitor);
 56    }
 57 
 58    private Disassembler(long startPc, byte[] code) {
 59       this.startPc = startPc;
 60       this.code = code;
 61 
 62       // Lazily load hsdis
 63       if (decode_function == 0) {
 64          StringBuilder path = new StringBuilder(System.getProperty(&quot;java.home&quot;));
 65          String sep = System.getProperty(&quot;file.separator&quot;);
 66          String os = System.getProperty(&quot;os.name&quot;);
 67          String libname = &quot;hsdis&quot;;
 68          String arch = System.getProperty(&quot;os.arch&quot;);
 69          if (os.lastIndexOf(&quot;Windows&quot;, 0) != -1) {
 70             if (arch.equals(&quot;x86&quot;)) {
 71                libname +=  &quot;-i386&quot;;
 72             } else if (arch.equals(&quot;amd64&quot;)) {
 73                libname +=  &quot;-amd64&quot;;


 74             } else {
 75                libname +=  &quot;-&quot; + arch;
 76             }
 77             path.append(sep + &quot;bin&quot; + sep);
 78             libname += &quot;.dll&quot;;
 79          } else if (os.lastIndexOf(&quot;SunOS&quot;, 0) != -1) {
 80             if (arch.equals(&quot;x86&quot;) || arch.equals(&quot;i386&quot;)) {
 81                path.append(sep + &quot;lib&quot; + sep + &quot;i386&quot; + sep);
 82                libname +=  &quot;-i386&quot; + &quot;.so&quot;;
 83             } else if (arch.equals(&quot;amd64&quot;)) {
 84                path.append(sep + &quot;lib&quot; + sep + &quot;amd64&quot; + sep);
 85                libname +=  &quot;-amd64&quot; + &quot;.so&quot;;
 86             } else {
 87                path.append(sep + &quot;lib&quot; + sep + arch + sep);
 88                libname +=  &quot;-&quot; + arch + &quot;.so&quot;;
 89             }
 90          } else if (os.lastIndexOf(&quot;Linux&quot;, 0) != -1) {
 91             if (arch.equals(&quot;x86&quot;) || arch.equals(&quot;i386&quot;)) {
 92                path.append(sep + &quot;lib&quot; + sep + &quot;i386&quot; + sep);
 93                libname += &quot;-i386.so&quot;;
</pre>
</td>
<td>
<hr />
<pre>
 54       Disassembler dis = new Disassembler(startPc, code);
 55       dis.decode(visitor);
 56    }
 57 
 58    private Disassembler(long startPc, byte[] code) {
 59       this.startPc = startPc;
 60       this.code = code;
 61 
 62       // Lazily load hsdis
 63       if (decode_function == 0) {
 64          StringBuilder path = new StringBuilder(System.getProperty(&quot;java.home&quot;));
 65          String sep = System.getProperty(&quot;file.separator&quot;);
 66          String os = System.getProperty(&quot;os.name&quot;);
 67          String libname = &quot;hsdis&quot;;
 68          String arch = System.getProperty(&quot;os.arch&quot;);
 69          if (os.lastIndexOf(&quot;Windows&quot;, 0) != -1) {
 70             if (arch.equals(&quot;x86&quot;)) {
 71                libname +=  &quot;-i386&quot;;
 72             } else if (arch.equals(&quot;amd64&quot;)) {
 73                libname +=  &quot;-amd64&quot;;
<span class="line-added"> 74             } else if (arch.equals(&quot;aarch64&quot;)) {</span>
<span class="line-added"> 75                libname +=  &quot;-arm64&quot;;</span>
 76             } else {
 77                libname +=  &quot;-&quot; + arch;
 78             }
 79             path.append(sep + &quot;bin&quot; + sep);
 80             libname += &quot;.dll&quot;;
 81          } else if (os.lastIndexOf(&quot;SunOS&quot;, 0) != -1) {
 82             if (arch.equals(&quot;x86&quot;) || arch.equals(&quot;i386&quot;)) {
 83                path.append(sep + &quot;lib&quot; + sep + &quot;i386&quot; + sep);
 84                libname +=  &quot;-i386&quot; + &quot;.so&quot;;
 85             } else if (arch.equals(&quot;amd64&quot;)) {
 86                path.append(sep + &quot;lib&quot; + sep + &quot;amd64&quot; + sep);
 87                libname +=  &quot;-amd64&quot; + &quot;.so&quot;;
 88             } else {
 89                path.append(sep + &quot;lib&quot; + sep + arch + sep);
 90                libname +=  &quot;-&quot; + arch + &quot;.so&quot;;
 91             }
 92          } else if (os.lastIndexOf(&quot;Linux&quot;, 0) != -1) {
 93             if (arch.equals(&quot;x86&quot;) || arch.equals(&quot;i386&quot;)) {
 94                path.append(sep + &quot;lib&quot; + sep + &quot;i386&quot; + sep);
 95                libname += &quot;-i386.so&quot;;
</pre>
</td>
</tr>
</table>
<center><a href="..\HotSpotAgent.java.sdiff.html" target="_top">&lt; prev</a> <a href="..\..\..\..\..\..\..\..\index.html" target="_top">index</a> <a href="..\debugger\windbg\WindbgDebuggerLocal.java.sdiff.html" target="_top">next &gt;</a></center>  </body>
</html>